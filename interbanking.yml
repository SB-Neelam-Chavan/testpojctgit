openapi: 3.0.0
x-stoplight:
  id: zk2n9bnnz1pcu
tags:
  - name: Credit Cancellation
    description: Managing Credit Transfer cancellation.
  - name: Credit Transfer
    description: Managing Credit Transfer initiation and consultation.
  - name: Debit Cancellation
    description: Managing Debit transfer cancellation.
  - name: Debit Transfer
    description: Managing Debit transfer initiation and consultation.
  - name: Information Modification Advice
    description: Managing information modification advice.
servers:
  - url: 'https://sandbox.skaleet.com/api/interbanking/v1'
    description: Skaleet sandbox environment.
info:
  title: 'Interbanking API (deprecated, reserved to SEPA usage).'
  version: '5.0'
  description: "Interbanking API|  |\r\n---------|----------|\r\n Use Cases Examples | **SEPA Payment**<br>- Manage SEPA credit transfers<br>- Manage SEPA direct debits | \r\n\r\nThis API is used to exchange with the SEPA Gateway to manage SEPA credit transfers and direct debits.\r\nTo use this API, a back-office has to create an Interbanking API key through its web portal. When creating or editing an API key, the back-office can specify the scopes available for this key, determining wether access to specific endpoints is authorized or not."
  contact:
    name: Skaleet
    url: 'https://www.skaleet.com/en/'
    email: api@skaleet.com
  license:
    name: Proprietary
    url: 'https://www.skaleet.com/'
paths:
  /transfers/credits:
    post:
      security:
        - OAuth2: []
      tags:
        - Credit Transfer
      summary: Initiate an external credit transfer
      operationId: CreditTransfer
      description: Initiate an external credit transfer.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCreditTransferRequest'
      responses:
        '201':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: d6auet33ulkrc
  '/transfers/credits/{instructionId}/accept':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Transfer
      summary: Accept an external credit transfer
      operationId: AcceptCreditTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AcceptCreditTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: s4pdsf4x4vz2e
  '/transfers/credits/{instructionId}/refuse':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Transfer
      summary: Refuse an external credit transfer
      operationId: RefuseCreditTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefuseCreditTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: fupei7i0jhq8n
  '/transfers/credits/{instructionId}':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Transfer
      summary: Update an external credit transfer
      operationId: UpdateCreditTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCreditTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: 0r8qh8o618fu0
  '/transfers/credits/{instructionId}/settle':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Transfer
      summary: Settle an external credit transfer
      operationId: SettleCreditTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SettleCreditTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: cafr1qnzgwoon
  /cancellations/credits:
    post:
      security:
        - OAuth2: []
      tags:
        - Credit Cancellation
      summary: Cancel an external credit transfer
      operationId: CreditCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCreditCancellationRequest'
      responses:
        '201':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: 0xql0azkjsekh
  '/cancellations/credits/{instructionId}/accept':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Cancellation
      summary: Accept a credit transfer cancellation
      operationId: AcceptCreditCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AcceptCreditCancellationRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: 27sg5s3oa97ms
  '/cancellations/credits/{instructionId}/refuse':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Cancellation
      summary: Refuse a credit transfer cancellation
      operationId: RefuseCreditCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefuseCreditCancellationRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: 74hm0lwx00n74
  '/cancellations/credits/{instructionId}/settle':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Credit Cancellation
      summary: Settle a credit transfer cancellation
      operationId: SettleCreditCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SettleCreditCancellationRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: j2wgmzy8n2j42
  /transfers/debits:
    post:
      security:
        - OAuth2: []
      tags:
        - Debit Transfer
      summary: Initiate an external debit transfer
      operationId: DebitTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDebitTransferRequest'
      responses:
        '201':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: hv1xdgv5jrimj
  '/transfers/debits/{instructionId}/accept':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Transfer
      summary: Accept an external debit transfer
      operationId: AcceptDebitTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AcceptDebitTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: tltm0gf6urqik
  '/transfers/debits/{instructionId}/refuse':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Transfer
      summary: Refuse an external debit transfer
      operationId: RefuseDebitTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefuseDebitTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: h8c3q6ombx1c4
  '/transfers/debits/{instructionId}':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Transfer
      summary: Update an external debit transfer
      operationId: UpdateDebitTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDebitTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: f4krmerz0u65g
  '/transfers/debits/{instructionId}/settle':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Transfer
      summary: Settle an external debit transfer
      operationId: SettleDebitTransfer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SettleDebitTransferRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: 8zxg8avhoaxy4
  /cancellations/debits:
    post:
      security:
        - OAuth2: []
      tags:
        - Debit Cancellation
      summary: Cancel an external debit transfer
      operationId: DebitCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDebitCancellationRequest'
      responses:
        '201':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: 301i7aqlf07xz
  '/cancellations/debits/{instructionId}/accept':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Cancellation
      summary: Accept a debit transfer cancellation
      operationId: AcceptDebitCancellation
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: nb9mi16nny6ed
  '/cancellations/debits/{instructionId}/refuse':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Cancellation
      summary: Refuse a debit transfer cancellation
      operationId: RefuseDebitCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefuseDebitCancellationRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: l6do6c7b5kp6o
  '/cancellations/debits/{instructionId}':
    parameters:
      - name: instructionId
        in: path
        description: Instruction unique identifier.
        required: true
        schema:
          $ref: '#/components/schemas/InstructionId'
    patch:
      security:
        - OAuth2: []
      tags:
        - Debit Cancellation
      summary: Update an external debit cancellation
      operationId: UpdateDebitCancellation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDebitCancellationRequest'
      responses:
        '200':
          description: Everything was fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: out2k8g6fy1ty
  /modification:
    post:
      security:
        - OAuth2: []
      tags:
        - Information Modification Advice
      summary: Receive an information modification advice
      operationId: InformationModificationAdvice
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InformationModificationAdviceRequest'
      responses:
        '204':
          description: Everything went fine.
          content:
            application/json:
              schema:
                type: object
        '400':
          $ref: '#/components/responses/BadRequestErrorResponse'
      x-stoplight:
        id: tc8zyffasbghq
x-tagGroups:
  - name: Credit
    tags:
      - Credit Transfer
      - Credit Cancellation
  - name: Debit
    tags:
      - Debit Transfer
      - Debit Cancellation
  - name: Modification
    tags:
      - Information Modification Advice
components:
  securitySchemes:
    OAuth2:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: 'https://sandbox.skaleet.com/api/interbanking/v1/oauth2/token'
          scopes: {}
          refreshUrl: ''
  schemas:
    CreateCreditTransferRequest:
      allOf:
        - $ref: '#/components/schemas/CreateInstructionRequest'
        - type: object
          required:
            - amount
            - creditor
            - debtor
          properties:
            executionDate:
              $ref: ./DateTime.yaml
            amount:
              $ref: ./AmountWithCurrencyNumericAndDisplay.yaml
            creditor:
              $ref: '#/components/schemas/InterbankingUser'
            debtor:
              $ref: '#/components/schemas/InterbankingUser'
            additionalReferences:
              type: object
              properties:
                instrId:
                  type: string
                  description: Instruction id
                  maxLength: 35
                endToEndId:
                  type: string
                  description: End-To-End id
                  maxLength: 35
                txId:
                  type: string
                  description: Transaction id
                  maxLength: 35
                purpose:
                  type: string
                  description: Purpose
                  maxLength: 35
            additional:
              oneOf:
                - $ref: '#/components/schemas/CreditTransferAdditionalSepa'
                - $ref: '#/components/schemas/CreditTransferAdditionalExample'
      x-stoplight:
        id: yhziyi22l77fe
    InstructionId:
      type: string
      example: TRX2
      description: Instruction id in the issuer/receiver system (depending on the name of the parameter).
      x-stoplight:
        id: qq3zwko38uaao
    AcceptCreditTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateCreditTransferRequest'
        - type: object
          properties:
            additional:
              oneOf:
                - $ref: '#/components/schemas/CreditTransferAdditionalSepa'
                - $ref: '#/components/schemas/CreditTransferAdditionalExample'
      x-stoplight:
        id: ugtn2saznqldg
    RefuseCreditTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateCreditTransferRequest'
        - $ref: '#/components/schemas/RefuseInstructionRequest'
        - type: object
          properties:
            originator:
              $ref: '#/components/schemas/Originator'
            additional:
              oneOf:
                - $ref: '#/components/schemas/CreditTransferAdditionalSepa'
                - $ref: '#/components/schemas/CreditTransferAdditionalExample'
      x-stoplight:
        id: uk1460l65u7l0
    UpdateCreditTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
        - type: object
          properties:
            creditor:
              $ref: '#/components/schemas/InterbankingUser'
            debtor:
              $ref: '#/components/schemas/InterbankingUser'
            settlementDate:
              type: string
              format: date-time
              description: settlement date
            additional:
              oneOf:
                - $ref: '#/components/schemas/UpdateCreditTransferAdditionalSepa'
                - $ref: '#/components/schemas/UpdateCreditTransferAdditionalExample'
      x-stoplight:
        id: r5nuwsc762ltb
    SettleCreditTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateCreditTransferRequest'
        - type: object
          required:
            - settlementDate
          properties:
            additional:
              oneOf:
                - $ref: '#/components/schemas/CreditTransferAdditionalSepa'
                - $ref: '#/components/schemas/CreditTransferAdditionalExample'
      x-stoplight:
        id: 9y0sc1zgmj6u6
    CreateCreditCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/CreateInstructionRequest'
        - type: object
          required:
            - originalInstruction
            - creationDate
            - additional
          properties:
            originalInstruction:
              type: object
              required:
                - issuerId
                - issuerIdType
              properties:
                issuerId:
                  $ref: '#/components/schemas/InstructionId'
                issuerIdType:
                  $ref: '#/components/schemas/InterbankingReferenceType'
                issuerBic:
                  type: string
                  description: 'Issuer BIC, mandatory when issuer ID type is `ACCOUNT_REFERENCE`'
                receiverId:
                  $ref: '#/components/schemas/InstructionId'
                receiverIdType:
                  $ref: '#/components/schemas/InterbankingReferenceType'
                receiverBic:
                  type: string
                  description: 'Receiver BIC, mandatory when receiver ID type is `ACCOUNT_REFERENCE`'
                orgnlEndToEndId:
                  type: string
                  description: Original transaction's end to end id
                  maxLength: 35
                orgnlTxId:
                  type: string
                  description: Original transaction's id
                  maxLength: 35
            originator:
              $ref: '#/components/schemas/Originator'
            additional:
              oneOf:
                - $ref: '#/components/schemas/CreditCancellationAdditionalSepa'
                - $ref: '#/components/schemas/CreditCancellationAdditionalExample'
      x-stoplight:
        id: dnb6umlr1ysqc
    AcceptCreditCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateCreditCancellationRequest'
        - type: object
          properties:
            additional:
              oneOf:
                - $ref: '#/components/schemas/CreditCancellationAdditionalSepa'
                - $ref: '#/components/schemas/CreditCancellationAdditionalExample'
      x-stoplight:
        id: 580nwemah64s5
    RefuseCreditCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateCreditCancellationRequest'
        - $ref: '#/components/schemas/RefuseInstructionRequest'
        - type: object
          properties:
            originator:
              $ref: '#/components/schemas/Originator'
            additional:
              oneOf:
                - $ref: '#/components/schemas/UpdateCreditCancellationAdditionalSepa'
                - $ref: '#/components/schemas/CreditCancellationAdditionalExample'
      x-stoplight:
        id: ssbg15oyi9xnl
    SettleCreditCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateCreditCancellationRequest'
        - type: object
          required:
            - settlementDate
          properties:
            settlementDate:
              type: string
              format: date-time
              description: settlement date
      x-stoplight:
        id: 2n3jfjjx0mqrq
    CreateDebitTransferRequest:
      allOf:
        - $ref: '#/components/schemas/CreateInstructionRequest'
        - type: object
          required:
            - amount
            - creditor
            - debtor
          properties:
            executionDate:
              $ref: ./DateTime.yaml
            amount:
              $ref: ./AmountWithCurrencyNumericAndDisplay.yaml
            creditor:
              $ref: '#/components/schemas/InterbankingUser'
            debtor:
              $ref: '#/components/schemas/InterbankingUser'
            additional:
              oneOf:
                - $ref: '#/components/schemas/DebitTransferAdditionalSepa'
                - $ref: '#/components/schemas/DebitTransferAdditionalExample'
      x-stoplight:
        id: hm0z1sjkz7sd3
    AcceptDebitTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
        - type: object
          properties:
            additional:
              oneOf:
                - $ref: '#/components/schemas/AcceptDebitTransferAdditionalSepa'
      x-stoplight:
        id: y5w5ssnjiaq6m
    RefuseDebitTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
        - type: object
          required:
            - fee
          properties:
            fee:
              $ref: ./AmountWithCurrencyNumericAndDisplay.yaml
            originator:
              $ref: '#/components/schemas/Originator'
            amount:
              $ref: ./AmountWithCurrencyNumericAndDisplay.yaml
            creditor:
              $ref: '#/components/schemas/InterbankingUser'
      x-stoplight:
        id: qik9h7gxnmbo6
    UpdateDebitTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
      x-stoplight:
        id: 1uuzdfpr6tcb1
    SettleDebitTransferRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
        - type: object
          required:
            - settlementDate
          properties:
            settlementDate:
              type: string
              format: date-time
              description: settlement date
      x-stoplight:
        id: zgbl5ogq92f3l
    CreateDebitCancellationRequest:
      type: object
      required:
        - issuerId
        - originalInstruction
        - creationDate
        - issuer
        - receiver
        - refundedAmount
        - originator
        - reason
      properties:
        issuerId:
          type: string
          description: Cancellation instruction id
        originalInstruction:
          $ref: '#/components/schemas/OriginalDebitInstruction'
        creationDate:
          type: string
          format: date-time
        issuer:
          $ref: '#/components/schemas/InterbankingOperator'
        receiver:
          $ref: '#/components/schemas/InterbankingOperator'
        refundedAmount:
          $ref: ./AmountWithCurrencyNumericAndDisplay.yaml
        originator:
          $ref: '#/components/schemas/Originator'
        reason:
          $ref: '#/components/schemas/Error'
      x-stoplight:
        id: g7xbxln2wh5uq
    RefuseDebitCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/RefuseInstructionRequest'
      x-stoplight:
        id: nijifbnskk6s0
    UpdateDebitCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
        - type: object
          properties:
            additional:
              oneOf:
                - $ref: '#/components/schemas/UpdateDebitCancellationAdditionalSepa'
                - $ref: '#/components/schemas/UpdateDebitCancellationAdditionalExample'
      x-stoplight:
        id: as3570clwkiik
    InformationModificationAdviceRequest:
      type: object
      required:
        - issuerId
        - issuerIdType
        - issuer
        - receiver
      properties:
        modificationId:
          type: string
          description: a unique ID for the modification
          example: VVEEVXJY1NG6HBBH19
        instructingParty:
          type: string
          description: The party that instructed the change
          example: BANQFRPPXXX
        instructedParty:
          type: string
          description: The party for which the update is to be applied
          example: FR7630027160211101234129991
        originalIBAN:
          type: string
          description: IBAN to be updated
          example: FR7630027160211101234129991
        originalBIC:
          type: string
          description: BIC to be updated
          example: BANQFRPPXXX
        updatedIBAN:
          type: string
          description: Update to apply to the IBAN
          example: FR7630027160211101234129991
        updatedBIC:
          type: string
          description: Update to apply to the BIC
          example: BANQFRPPXXX
        creationDate:
          type: string
          format: date-time
          description: creation date (sent by platform)
          example: '2012-11-17 04:47:11'
        additionalInformation:
          type: string
          description: Optional Additional Information
          example: /ICS/FR87ZZZ006398/UMR/MAND21.10.12-1 PBK-Tx7
      x-stoplight:
        id: p8jz0z4ylg6s8
    CreateInstructionRequest:
      type: object
      required:
        - issuerId
        - issuerIdType
        - issuer
        - receiver
      properties:
        issuerId:
          $ref: '#/components/schemas/InstructionId'
        issuerIdType:
          $ref: '#/components/schemas/InterbankingReferenceType'
        issuerBic:
          type: string
          description: 'Issuer BIC, mandatory when issuer ID type is ACCOUNT_REFERENCE'
        issuer:
          $ref: '#/components/schemas/InterbankingOperator'
        receiver:
          $ref: '#/components/schemas/InterbankingOperator'
        creationDate:
          type: string
          format: date-time
          description: creation date (sent by platform)
        additional:
          type: object
      x-stoplight:
        id: lq7fglpoycejj
    InterbankingUser:
      type: object
      required:
        - issuerId
        - issuerIdType
      properties:
        issuerId:
          $ref: '#/components/schemas/UserId'
        issuerIdType:
          $ref: '#/components/schemas/InterbankingReferenceType'
        issuerBic:
          type: string
          description: 'Issuer BIC, mandatory when issuer ID type is ACCOUNT_REFERENCE'
        receiverId:
          $ref: '#/components/schemas/UserId'
        receiverIdType:
          $ref: '#/components/schemas/InterbankingReferenceType'
        receiverBic:
          type: string
          description: 'Issuer BIC, mandatory when receiverIdType is ACCOUNT_REFERENCE'
        additional:
          oneOf:
            - $ref: '#/components/schemas/InterbankingUserAdditionalSepa'
            - $ref: '#/components/schemas/InterbankingUserAdditionalExample'
      x-stoplight:
        id: jhl4vym4buxrc
    CreditTransferAdditionalSepa:
      type: object
      required:
        - scheme
      properties:
        scheme:
          description: SEPA Scheme used (sent by SepaGateway)
          type: string
          enum:
            - SCT
            - SCT_INST
        category:
          type: string
          description: category (sent by platform)
        messageId:
          type: string
          description: message id (sent by SepaGateway)
        purpose:
          type: string
          minLength: 1
          maxLength: 4
          description: purpose (sent by platform)
        remittanceInfo:
          type: string
          description: remittance info (sent by platform)
        externalRef:
          type: string
          description: external system reference
      x-stoplight:
        id: 35au4olvht00h
    CreditTransferAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: 8z2v1wsorh9xe
    Error:
      type: object
      required:
        - code
        - message
      properties:
        code:
          type: string
          description: error code
          example: ERR1234
        message:
          type: string
          description: This is a functional error message that can be displayed to the end user
          example: 'Dear user, sorry but something went wrong'
      x-stoplight:
        id: owmbpodh7rib6
    RefuseInstructionRequest:
      type: object
      required:
        - reason
      properties:
        reason:
          $ref: '#/components/schemas/Error'
      x-stoplight:
        id: qtnd6r6lwm8yo
    Originator:
      type: object
      description: Originator of request
      properties:
        type:
          type: string
          enum:
            - ADMIN
            - CUSTOMER
            - SYSTEM
        value:
          type: string
          example: PSSTFRPPXXX
      x-stoplight:
        id: roc1e8rfa4hoy
    UpdateInstructionRequest:
      type: object
      properties:
        receiverId:
          $ref: '#/components/schemas/InstructionId'
        additional:
          type: object
      x-stoplight:
        id: 92z6aa7b0oird
    UpdateCreditTransferAdditionalSepa:
      type: object
      properties:
        scheme:
          description: SEPA Scheme used (sent by SepaGateway)
          type: string
          enum:
            - SCT
            - SCT_INST
        category:
          type: string
          description: category (sent by platform)
        messageId:
          type: string
          description: message id (sent by SepaGateway)
        originatorRef:
          type: string
          description: originator ref (sent by platform)
        purpose:
          type: string
          minLength: 1
          maxLength: 4
          description: purpose (sent by platform)
        remittanceInfo:
          type: string
          description: remittance info (sent by platform)
        clearingSystem:
          type: string
          enum:
            - CORE
            - CORS
            - STP2
        acquitted:
          type: boolean
          description: 'true/false if the instruction has been acquitted/rejected by Steffi though acquittal/rejection file, else null if no acquittal/rejection has been done yet'
      x-stoplight:
        id: lz1em7lt0gl10
    UpdateCreditTransferAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: m0695menk75za
    InterbankingReferenceType:
      description: Type of the reference
      type: string
      enum:
        - IBAN
        - ACCOUNT_NUMBER
        - ACCOUNT_REFERENCE
        - VISA_NUMBER
        - PHONE
        - OTHER
      example: IBAN
      x-stoplight:
        id: b6uk882fajkc4
    CreditCancellationAdditionalSepa:
      type: object
      required:
        - scheme
        - type
        - reason
      properties:
        scheme:
          description: SEPA Scheme used (sent by SepaGateway)
          type: string
          enum:
            - SCT
            - SCT_INST
        type:
          type: string
          description: type of R message (sent by platform)
          enum:
            - RECALL
            - REVERSAL
        messageId:
          type: string
          description: message id (sent by SepaGateway)
        reason:
          $ref: '#/components/schemas/Error'
        additionalReason:
          type: string
          description: additional reason (sent by platform)
      x-stoplight:
        id: ikirqnvxc9k2z
    CreditCancellationAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: osrvfx4cefb2u
    UpdateCreditCancellationRequest:
      allOf:
        - $ref: '#/components/schemas/UpdateInstructionRequest'
        - type: object
          properties:
            additional:
              oneOf:
                - $ref: '#/components/schemas/UpdateCreditCancellationAdditionalSepa'
                - $ref: '#/components/schemas/UpdateCreditCancellationAdditionalExample'
      x-stoplight:
        id: qsfp4wkox1sls
    UpdateCreditCancellationAdditionalSepa:
      type: object
      properties:
        scheme:
          description: SEPA Scheme used (sent by SepaGateway)
          type: string
          enum:
            - SCT
            - SCT_INST
      x-stoplight:
        id: 2ok8nc2xzdcrf
    DebitTransferAdditionalSepa:
      type: object
      required:
        - scheme
        - mandateId
        - mandateSignatureDate
        - creditorSchemeId
        - sequenceType
        - mandateType
      properties:
        dueDate:
          type: string
          format: date-time
          description: due date (sent by platform)
        scheme:
          description: SEPA Scheme used (sent by SepaGateway)
          type: string
          enum:
            - SDD
        mandateSignatureDate:
          type: string
          format: date-time
          description: settlement date
        creditorSchemeId:
          type: string
          minLength: 1
          maxLength: 35
        category:
          type: string
          description: category (sent by platform)
        mandateId:
          type: string
          minLength: 1
          maxLength: 35
        mandateType:
          type: string
          minLength: 1
          maxLength: 4
          enum:
            - CORE
            - B2B
        messageId:
          type: string
          description: message id (sent by SepaGateway)
        originatorRef:
          type: string
          description: originator ref (sent by platform)
        originalMandate:
          type: object
          description: To be used if mandate information have been updated since last direct debit (mandatory when using SEPA)
          properties:
            reference:
              type: string
            creditorRef:
              type: string
            debtorIban:
              type: string
              description: 'IBAN (International Bank Account Number), e.g. FR791680810000000538'
              example: FR791680810000000538
        purpose:
          type: string
          minLength: 1
          maxLength: 4
          description: purpose (sent by platform)
        remittanceInfo:
          type: string
          description: remittance info (sent by platform)
        sequenceType:
          type: string
          minLength: 1
          maxLength: 4
          enum:
            - OOFF
            - FRST
            - RCUR
            - FNAL
        externalRef:
          type: string
          description: external system reference
      x-stoplight:
        id: dhgmnybgsopkl
    DebitTransferAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: 3lx2my4ctobd1
    AcceptDebitTransferAdditionalSepa:
      type: object
      properties:
        dueDate:
          type: string
          format: date-time
          description: due date (sent by platform)
      x-stoplight:
        id: 6kfnvrphyndbr
    OriginalDebitInstruction:
      type: object
      required:
        - id
      properties:
        id:
          type: string
        scheme:
          type: string
        creditorSchemeId:
          type: string
        transactionId:
          type: string
      x-stoplight:
        id: s1itgg3o7u4mh
    InterbankingOperator:
      type: object
      required:
        - id
      properties:
        id:
          type: string
          example: APP1
        name:
          type: string
          example: Skom It Bank master
      x-stoplight:
        id: 9i22wtsuyypks
    UpdateDebitCancellationAdditionalSepa:
      type: object
      x-stoplight:
        id: cv67d1uonf6po
    UpdateDebitCancellationAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: p7e5zswrkqnui
    UserId:
      type: string
      example: FR1420041010050500013M02606
      description: 'User id in the system, can be an IBAN or other id depending on the system'
      x-stoplight:
        id: 02392f3896ex3
    InterbankingUserAdditionalSepa:
      type: object
      required:
        - fullName
        - country
        - BIC
      properties:
        BIC:
          $ref: '#/components/schemas/BIC'
        fullName:
          type: string
          example: John Doe
        address:
          type: string
          example: 88 rue du dôme
        city:
          type: string
          example: Boulogne-Billancourt
        zipcode:
          type: string
          example: '92100'
        region:
          type: string
          example: Île de france
        district:
          type: string
          example: République
        province:
          type: string
        country:
          type: string
          example: FR
        code:
          type: string
          description: originator or beneficiary code
        ultimate:
          type: object
          properties:
            id:
              type: string
              pattern: '^[A-Z]{6,6}[A-Z2-9][A-NP-Z0-9]([A-Z0-9]{3,3}){0,1}$'
            name:
              type: string
              maxLength: 140
      x-stoplight:
        id: e1r3i7e4ckqbd
    InterbankingUserAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: 1octih34enqww
    UpdateCreditCancellationAdditionalExample:
      type: object
      description: Some example of additional data
      properties:
        someAttribute:
          type: string
        otherAttribute:
          type: string
      x-stoplight:
        id: ul6tzyoc5ibat
    BIC:
      type: string
      pattern: '^[A-Z]{6,6}[A-Z2-9][A-NP-Z0-9]([A-Z0-9]{3,3}){0,1}$'
      example: PSSTFRPPXXX
      x-stoplight:
        id: id93tm1gjdoi7
  responses:
    BadRequestErrorResponse:
      description: Something went wrong and it was client fault.
      content:
        application/json:
          schema:
            $ref: ./Error.yaml
x-internal: true
